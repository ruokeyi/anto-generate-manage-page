{
  "version": 3,
  "sources": ["../tinymce/plugins/contextmenu/plugin.js", "../tinymce/plugins/contextmenu/index.js", "dep:tinymce_plugins_contextmenu_index"],
  "sourcesContent": ["(function () {\nvar contextmenu = (function () {\n    'use strict';\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      var clone = function () {\n        return Cell(get());\n      };\n      return {\n        get: get,\n        set: set,\n        clone: clone\n      };\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var get = function (visibleState) {\n      var isContextMenuVisible = function () {\n        return visibleState.get();\n      };\n      return { isContextMenuVisible: isContextMenuVisible };\n    };\n    var Api = { get: get };\n\n    var shouldNeverUseNative = function (editor) {\n      return editor.settings.contextmenu_never_use_native;\n    };\n    var getContextMenu = function (editor) {\n      return editor.getParam('contextmenu', 'link openlink image inserttable | cell row column deletetable');\n    };\n    var Settings = {\n      shouldNeverUseNative: shouldNeverUseNative,\n      getContextMenu: getContextMenu\n    };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var getUiContainer = function (editor) {\n      return global$1.DOM.select(editor.settings.ui_container)[0];\n    };\n\n    var nu = function (x, y) {\n      return {\n        x: x,\n        y: y\n      };\n    };\n    var transpose = function (pos, dx, dy) {\n      return nu(pos.x + dx, pos.y + dy);\n    };\n    var fromPageXY = function (e) {\n      return nu(e.pageX, e.pageY);\n    };\n    var fromClientXY = function (e) {\n      return nu(e.clientX, e.clientY);\n    };\n    var transposeUiContainer = function (element, pos) {\n      if (element && global$1.DOM.getStyle(element, 'position', true) !== 'static') {\n        var containerPos = global$1.DOM.getPos(element);\n        var dx = containerPos.x - element.scrollLeft;\n        var dy = containerPos.y - element.scrollTop;\n        return transpose(pos, -dx, -dy);\n      } else {\n        return transpose(pos, 0, 0);\n      }\n    };\n    var transposeContentAreaContainer = function (element, pos) {\n      var containerPos = global$1.DOM.getPos(element);\n      return transpose(pos, containerPos.x, containerPos.y);\n    };\n    var getPos = function (editor, e) {\n      if (editor.inline) {\n        return transposeUiContainer(getUiContainer(editor), fromPageXY(e));\n      } else {\n        var iframePos = transposeContentAreaContainer(editor.getContentAreaContainer(), fromClientXY(e));\n        return transposeUiContainer(getUiContainer(editor), iframePos);\n      }\n    };\n    var Coords = { getPos: getPos };\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.ui.Factory');\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var renderMenu = function (editor, visibleState) {\n      var menu, contextmenu;\n      var items = [];\n      contextmenu = Settings.getContextMenu(editor);\n      global$3.each(contextmenu.split(/[ ,]/), function (name) {\n        var item = editor.menuItems[name];\n        if (name === '|') {\n          item = { text: name };\n        }\n        if (item) {\n          item.shortcut = '';\n          items.push(item);\n        }\n      });\n      for (var i = 0; i < items.length; i++) {\n        if (items[i].text === '|') {\n          if (i === 0 || i === items.length - 1) {\n            items.splice(i, 1);\n          }\n        }\n      }\n      menu = global$2.create('menu', {\n        items: items,\n        context: 'contextmenu',\n        classes: 'contextmenu'\n      });\n      menu.uiContainer = getUiContainer(editor);\n      menu.renderTo(getUiContainer(editor));\n      menu.on('hide', function (e) {\n        if (e.control === this) {\n          visibleState.set(false);\n        }\n      });\n      editor.on('remove', function () {\n        menu.remove();\n        menu = null;\n      });\n      return menu;\n    };\n    var show = function (editor, pos, visibleState, menu) {\n      if (menu.get() === null) {\n        menu.set(renderMenu(editor, visibleState));\n      } else {\n        menu.get().show();\n      }\n      menu.get().moveTo(pos.x, pos.y);\n      visibleState.set(true);\n    };\n    var ContextMenu = { show: show };\n\n    var isNativeOverrideKeyEvent = function (editor, e) {\n      return e.ctrlKey && !Settings.shouldNeverUseNative(editor);\n    };\n    var setup = function (editor, visibleState, menu) {\n      editor.on('contextmenu', function (e) {\n        if (isNativeOverrideKeyEvent(editor, e)) {\n          return;\n        }\n        e.preventDefault();\n        ContextMenu.show(editor, Coords.getPos(editor, e), visibleState, menu);\n      });\n    };\n    var Bind = { setup: setup };\n\n    global.add('contextmenu', function (editor) {\n      var menu = Cell(null), visibleState = Cell(false);\n      Bind.setup(editor, visibleState, menu);\n      return Api.get(visibleState);\n    });\n    function Plugin () {\n    }\n\n    return Plugin;\n\n}());\n})();\n", "// Exports the \"contextmenu\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/contextmenu')\n//   ES2015:\n//     import 'tinymce/plugins/contextmenu'\nrequire('./plugin.js');", "export default require(\"./node_modules/tinymce/plugins/contextmenu/index.js\");"],
  "mappings": "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",
  "names": []
}
